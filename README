The objective of this workshop is to build and configure a complete cloud environment on Google Cloud Platform from scratch, using only code.

üìö Table of Contents
Prerequisites

Initial Setup

Repository Structure

Workshop Exercises

Troubleshooting Common Issues

Cleanup

üõ†Ô∏è Prerequisites
Before we begin, please ensure you have the following installed on your machine.

All Operating Systems:
A Code Editor: Visual Studio Code is highly recommended.

A Google Account to access the Google Cloud Platform project.

For macOS / Linux Users:
Terraform: Install Terraform.

Google Cloud SDK: Install the gcloud CLI.

Ansible (for Exercise 7):

bash
# On macOS
brew install ansible
# On Debian/Ubuntu
sudo apt-get update && sudo apt-get install -y ansible
For Windows Users (Important):
Ansible and Terraform work best in a Linux environment. The recommended approach is to use the Windows Subsystem for Linux (WSL).

Install WSL: Open PowerShell as an Administrator and run:

powershell
wsl --install
(You may need to restart your computer).

Open Ubuntu: From your Start Menu, open the "Ubuntu" application. All subsequent commands in this workshop should be run from within this Ubuntu terminal.

Install Tools inside WSL/Ubuntu:

bash
# Install Terraform
sudo apt-get update && sudo apt-get install -y gnupg software-properties-common
wget -O- https://apt.releases.hashicorp.com/gpg | gpg --dearmor | sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg
echo "deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list
sudo apt-get update && sudo apt-get install terraform

# Install gcloud and Ansible
sudo apt-get install -y google-cloud-sdk ansible
üöÄ Initial Setup
Once the prerequisites are installed, you must authenticate with Google Cloud. Run these commands in your terminal (or your WSL/Ubuntu terminal if on Windows).

Log in to your Google Account:

bash
gcloud auth login
Set up Application Default Credentials for Terraform:

bash
gcloud auth application-default login
Configure the Workshop Project ID:
(Replace <YOUR_PROJECT_ID> with the ID provided by the instructor).

bash
gcloud config set project <YOUR_PROJECT_ID>
üìÇ Repository Structure
This repository is organized into directories, where each folder represents the complete state of our project at the end of that exercise. This allows you to follow along or catch up easily.

text
.
‚îú‚îÄ‚îÄ exercise-1-init/
‚îú‚îÄ‚îÄ exercise-2-apply/
‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ exercise-8-cleanup/
üìù Workshop Exercises
Exercise	Directory	Key Concepts Covered
1. First Init	exercise-1-init/	terraform init, provider setup, lock file.
2. Variables & Apply	exercise-2-apply/	variables.tf, outputs.tf, .tfvars, plan & apply.
3. Subnet & Firewall	exercise-3-network/	Resource dependencies, creating subnets and firewall rules.
4. Virtual Machine	exercise-4-vm/	google_compute_instance, boot disks, network interfaces.
5. Modules	exercise-5-modules/	Refactoring into a local module, source and outputs.
6. State Management	(No new code)	The .tfstate file, terraform state list, state show.
7. Ansible	exercise-7-ansible/	ssh-keygen, VM metadata, local-exec provisioner, ansible.cfg.
8. Cleanup	(No new code)	Using terraform destroy to tear down all infrastructure.
‚ö†Ô∏è Troubleshooting Common Issues
Permission Denied / Unprotected Private Key (SSH Error on WSL):

Cause: You are running commands from the Windows filesystem (/mnt/c/...). Windows doesn't support Linux permissions, so chmod has no effect.

Solution: Move your entire project folder into your WSL home directory (cd ~) and work from there. chmod 600 <your-key> will then work correctly.

Ansible "UNREACHABLE" or "Connection refused/timed out":

Cause: This is a race condition. The Ansible provisioner runs before the VM's SSH service is fully ready.

Solution: Add a connection block to your local-exec provisioner in Terraform. This tells Terraform to wait for SSH to be available before running the command.

üßπ Cleanup
At the end of the workshop, it is critical to destroy all created resources to avoid incurring costs. Navigate to your final exercise directory and run:

bash
terraform destroy
Answer yes when prompted to confirm the deletion.
